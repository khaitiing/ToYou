<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="assignment.css">
    <link rel="icon" type="image/png" href="images/logo.png">
    <title>Contact Us</title>
</head>

<body>
    <!-- Navigation Bar -->
    <header>
        <div class="navbar">
            <div class="logo">
                <a href="home.html">
                    <img src="images/logo.png" alt="Logo">
                </a>
            </div>

            <ul class="links">
                <li><a href="home.html">Home</a></li>
                <li><a href="product.html">Products</a></li>
                <li><a href="review.html">Reviews</a></li>
                <li><a href="contact.html">Contact Us</a></li>
            </ul>

            <div class="nav-icons">
                <a href="product.html" class="cart"><img src="images/shoppingbag.png"></a>
                <a href="signin.html" class="loginsignup"><img src="images/user.png"></a>
                <div class="searchContainer">
                    <div class="searchIcon">
                        <img src="images/search.png" class="search">
                    </div>
                    <div class="searchInput">
                        <input type="text" placeholder="Search" id="search">
                    </div>
                </div>
            </div>

            <div class="toggle_btn">
                <img src="images/menu.png">
            </div>
            
        </div>

        <div class="dropdown_menu">
            <li><a href="home.html">Home</a></li>
            <li><a href="product.html">Products</a></li>
            <li><a href="review.html">Reviews</a></li>
            <li><a href="contact.html">Contact Us</a></li>
        </div>
    </header>

    <!-- Contact Form & Info -->
    <div class="contactbody">
        <div class="contactcontainer">
            <div class="contactleft">
                <h3 class="contactheading">Questions?</h3>
                <p class="contactheadingtext">Drop us your question and we will get back to you!</p>
                <form action="home.html" class="contactForm">
                    <div class="contactBox">
                        <input type="text" name="contactname" class="contactname" placeholder="Enter your name">
                    </div>

                    <div class="contactBox">
                        <input type="text" name="contactemail" class="contactemail" placeholder="Enter your email">
                    </div>

                    <div class="contactBox">
                        <textarea name="contactmessage" class="contactmessage" placeholder="Enter your message"></textarea>
                    </div>

                    <button class="contactButton">Submit</button>
                </form>
            </div>

            <div class="contactright">
                <div class="contactillustration">
                    <img src="images/contact.jpg" alt="">
                </div>

                <div class="contact-info">
                  <div class="contactinfoBox">
                    <div class="contactIcon">
                        <img src="images/location.png">
                    </div>

                    <div class="contactText">
                        <p class="address">5, Jalan Universiti, Bandar Sunway, 47500 Petaling Jaya, Selangor</p>
                    </div>
                  </div>
                    
                  <div class="contactinfoBox">
                    <div class="contactIcon">
                        <img src="images/phone.png">
                    </div>
                    
                    <div class="contactText">
                        <a href="tel:+03-77123456">03-77123456</a>
                    </div>
                  </div>
                    
                  <div class="contactinfoBox">
                    <div class="contactIcon">
                        <img src="images/email.png">
                    </div>
                    
                    <div class="contactText">
                        <a href="mailto:kt@gmail.com">23001597@imail.sunway.edu.my</a>
                    </div>
                  </div>  
                </div>
            </div>

            <div class="contactsocialIcons">
                <a href="https://shopee.com.my/">
                    <img src="images/shopee.png">
                </a>

                <a href="https://www.instagram.com/">
                    <img src="images/instagram.png">
                </a>

                <a href="https://www.facebook.com/">
                    <img src="images/facebook.png">
                </a>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer>
        <div class="footerRow">
            <div class="footerCol">
                <img src="images/logo.png" class="logo" alt="logo">
                <p class="footerPara">Designed meant to be for you and to you. Since 2023</p>
            </div>
            <div class="footerCol">
                <h3>Office<div class="footerUnderline"><span></span></div></h3>
                <p>5, Jalan Universiti,</p>
                <p>Bandar Sunway, 47500</p>
                <p>Petaling Jaya, Selangor</p>
                <p class="footerEmail">23001597@imail.sunway.edu.my</p>
                <h4>03-77123456</h4>
            </div>
            <div class="footerCol">
                <h3>Links<div class="footerUnderline"><span></span></div></h3>
                <ul>
                    <li><a href="">Home</a></li>
                    <li><a href="">Products</a></li>
                    <li><a href="">Reviews</a></li>
                    <li><a href="">Contact Us</a></li>
                </ul>
            </div>
            <div class="footerCol">
                <h3>Newsletter<div class="footerUnderline"><span></span></div></h3>
                <form class="footerForm">
                    <img src="images/email.png" class="footerEmail">
                    <input type="email" placeholder="Enter your email address" required>
                    <button type="submit" class="footerArrow"><img src="images/arrowright.png"></button>
                </form>
                <div class="footersocialIcon">
                    <a href="https://shopee.com.my/" class="shopeelogo"><img src="images/shopee.png"></a>
                    <a href="https://www.instagram.com/" class="iglogo"><img src="images/instagram.png"></a>
                    <a href="https://www.facebook.com/" class="fblogo"><img src="images/facebook.png"></a>
                </div>
            </div>
        </div>
        <hr>
        <p class="footercopyright">ToYou &copy; 2023 - All Rights Reserved</p>
        <p class="creationDate">Created On: 3rd December 2023</p>
        <p class="updateDate">Last Updated On: 10th December 2023</p>
        <p class="datacollectionDate">Data Collection Date: 3rd December 2023</p>
    </footer>

    <!-- Javascript Codes -->
    <script>
        //JAVASCRIPT CODE FOR NAVIGATION BAR
        const toggleBtn = document.querySelector('.toggle_btn');
        const toggleBtnIcon = document.querySelector('.toggle_btn img');
        const dropDownMenu = document.querySelector('.dropdown_menu');

        function toggleMenu() {
            dropDownMenu.classList.toggle('open');
            const isOpen = dropDownMenu.classList.contains('open');
            
            //Change the icon when dropdown menu is opened
            toggleBtnIcon.src = isOpen ? 'images/x.png' : 'images/menu.png';
        }

        toggleBtn.onclick = toggleMenu;

        //Check window width on page load and resize
        function checkWindowSize() {
            if (window.innerWidth <= 992) { 
                toggleBtn.style.display = 'block';
            } else {
                toggleBtn.style.display = 'none';
                dropDownMenu.classList.remove('open'); 
            }
        }

        //Initial check on page load
        checkWindowSize();

        //Listen for window resize events
        window.addEventListener('resize', checkWindowSize);

        //JAVASCRIPT FOR SEARCH
        let search = document.querySelector(".search");

        search.onclick = function(){
            document.querySelector(".searchContainer").classList.toggle('active');
        }

        //CONTACT FORM VALIDATION JAVASCRIPT      
        const form = document.querySelector(".contactForm");
        
        form.addEventListener("submit", (e) =>{
            e.preventDefault();

            //do nothing if form not validated
            if(!validateForm(form)) return;

            //if form valid submit
            alert("Message succesfully sent!");
            window.location.href = 'home.html';
        });

        const validateForm = (form) => {
            let valid = true;
            //check for empty fields
            let name = form.querySelector(".contactname");
            let email = form.querySelector(".contactemail");
            let message = form.querySelector(".contactmessage");

            if(name.value === ""){
                giveError(name, "Please enter name");
                valid = false;
            }
            if(message.value === ""){
                giveError(message, "Please enter your message");
                valid = false;
            }

            //email validation
            let emailPattern = /^[^ ]+@[^ ]+\.[a-z]{2,3}$/;
            let emailValue = email.value;
            if(!emailPattern.test(emailValue)){
                giveError(email, "Please enter a valid email");
                valid = false;
            }

            return valid;
        };

        const giveError = (field, message) => {
            let parentElement = field.parentElement;
                parentElement.classList.add("error");
                //if error message is already shown
            let existingError = parentElement.querySelector(".err-msg");
            if(existingError) {
                existingError.remove();
            }
            let error = document.createElement("span")
            error.textContent = message;
            error.classList.add("err-msg");
            parentElement.appendChild(error);
        };

        //remove error on input
        const inputs = document.querySelectorAll("input");
        const textareas = document.querySelectorAll("textarea");

        let allFields = [...inputs, ...textareas];

        allFields.forEach((field) =>{
            field.addEventListener("input", () =>{
                removeError(field);
            });
        });

        const removeError = (field) => {
            let parentElement = field.parentElement;
            parentElement.classList.remove("error");
            let error = parentElement.querySelector(".err-msg");
            if (error){
                error.remove();
            }
        };
    </script>
</body>
</html>
